<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paulo Azevedo - Engenheiro de Software</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8f7f4;
            color: #1c1c1c;
        }
        body.dark {
            background-color: #1a202c;
            color: #e2e8f0;
        }
        .nav-link.active {
            color: #0891b2;
            font-weight: 700;
        }
        body.dark .nav-link.active {
            color: #38bdf8;
        }
        .chart-container {
            position: relative;
            margin: auto;
            height: 500px;
            max-height: 70vh;
            width: 100%;
            max-width: 900px;
        }
        @media (max-width: 767px) {
            .chart-container {
                height: 350px;
                max-height: 50vh;
            }
            /* Timeline: centraliza cards e dots no mobile */
            #experience-timeline .flex {
                flex-direction: column !important;
                align-items: center !important;
                justify-content: center !important;
            }
            #experience-timeline .w-1\/2 {
                width: 100% !important;
                padding-left: 0 !important;
                padding-right: 0 !important;
                text-align: left !important;
            }
            /* Apenas mobile: centraliza o dot abaixo do card */
            @media (max-width: 767px) {
                #experience-timeline .absolute[style*="left: 50%"],
                #experience-timeline .absolute[style*="right: 50%"] {
                    position: relative !important;
                    left: 50% !important;
                    right: auto !important;
                    transform: translateX(-50%) !important;
                    margin: 0 auto 16px auto !important;
                    top: 0 !important;
                    z-index: 2;
                    display: flex !important;
                    justify-content: center !important;
                    align-items: center !important;
                    float: none !important;
                }
                #experience-timeline .bg-white {
                    margin-bottom: 32px !important;
                }
                #experience-timeline .absolute[aria-hidden="true"] {
                    left: 50% !important;
                    transform: translateX(-50%) !important;
                    width: 3px !important;
                    background: #e5e7eb !important;
                    z-index: 1;
                }
                /* Alinha listas e textos internos à esquerda */
                #experience-timeline ul,
                #experience-timeline li,
                #experience-timeline .text-left,
                #experience-timeline .text-right {
                    text-align: left !important;
                }
            }
            #experience-timeline .bg-white {
                margin-bottom: 32px !important;
            }
            #experience-timeline .absolute[aria-hidden="true"] {
                left: 50% !important;
                transform: translateX(-50%) !important;
                width: 3px !important;
                background: #e5e7eb !important;
                z-index: 1;
            }
            /* Alinha listas e textos internos à esquerda */
            #experience-timeline ul,
            #experience-timeline li,
            #experience-timeline .text-left,
            #experience-timeline .text-right {
                text-align: left !important;
            }
        }
        /* --- Ajustes para garantir contraste no white mode --- */
        body:not(.dark) .bg-white,
        body:not(.dark) .bg-gray-800,
        body:not(.dark) .dark\:bg-gray-800 {
            background-color: #fff !important;
        }
        body:not(.dark) #experience-timeline .absolute[aria-hidden="true"] {
            background: #222 !important;
        }
        body:not(.dark) .text-white,
        body:not(.dark) .dark\:text-white {
            color: #1c1c1c !important;
        }
        body:not(.dark) .text-gray-300,
        body:not(.dark) .dark\:text-gray-300 {
            color: #4b5563 !important;
        }
        body:not(.dark) .text-gray-400,
        body:not(.dark) .dark\:text-gray-400 {
            color: #6b7280 !important;
        }
        body:not(.dark) .text-gray-200,
        body:not(.dark) .dark\:text-gray-200 {
            color: #374151 !important;
        }
        body:not(.dark) .bg-gray-900,
        body:not(.dark) .bg-gray-900\/80,
        body:not(.dark) .dark\:bg-gray-900,
        body:not(.dark) .dark\:bg-gray-900\/80 {
            background-color: #fff !important;
        }
        body:not(.dark) .bg-gray-700,
        body:not(.dark) .dark\:bg-gray-700 {
            background-color: #f3f4f6 !important;
        }
        body:not(.dark) .bg-gray-600,
        body:not(.dark) .dark\:bg-gray-600 {
            background-color: #e5e7eb !important;
        }
        body:not(.dark) .border-cyan-400,
        body:not(.dark) .dark\:border-cyan-400 {
            border-color: #0891b2 !important;
        }
        body:not(.dark) .hover\:bg-gray-800:hover {
            background-color: #f3f4f6 !important;
        }
        body:not(.dark) .hover\:text-cyan-400:hover {
            color: #0891b2 !important;
        }
        body:not(.dark) .shadow-lg,
        body:not(.dark) .shadow {
            box-shadow: 0 2px 8px 0 rgba(0,0,0,0.06) !important;
        }
    </style>
</head>
<body class="antialiased">

    <!-- Header & Navigation -->
    <header id="header" class="bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg sticky top-0 z-50 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <h1 class="text-xl font-bold text-gray-800 dark:text-white">Paulo Azevedo</h1>
                </div>
                <nav class="hidden md:flex items-center space-x-4">
                    <a href="#sobre" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-cyan-600 dark:text-gray-300 dark:hover:text-cyan-400 transition-colors">Sobre</a>
                    <a href="#habilidades" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-cyan-600 dark:text-gray-300 dark:hover:text-cyan-400 transition-colors">Habilidades</a>
                    <a href="#experiencia" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-cyan-600 dark:text-gray-300 dark:hover:text-cyan-400 transition-colors">Experiência</a>
                    <a href="#formacao" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-cyan-600 dark:text-gray-300 dark:hover:text-cyan-400 transition-colors">Formação</a>
                    <button id="theme-toggle" class="p-2 rounded-full text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors">
                        <svg class="w-6 h-6 sun-icon" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.106a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.06l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5h2.25a.75.75 0 01.75.75zM18.894 17.894a.75.75 0 001.06-1.06l-1.59-1.59a.75.75 0 00-1.06 1.06l1.59 1.59zM12 18.75a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0v-2.25a.75.75 0 01.75-.75zM5.06 17.894a.75.75 0 001.06-1.06l-1.59-1.59a.75.75 0 00-1.06 1.06l1.59 1.59zM3 12a.75.75 0 01.75-.75h2.25a.75.75 0 010 1.5H3.75A.75.75 0 013 12zM5.06 6.106a.75.75 0 00-1.06 1.06l1.59 1.59a.75.75 0 001.06-1.06l-1.59-1.59z"/></svg>
                        <svg class="w-6 h-6 moon-icon hidden" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M9.59 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM12 6a6 6 0 110 12 6 6 0 010-12zM12 7.5a4.5 4.5 0 100 9 4.5 4.5 0 000-9zM18.894 6.106a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.06l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5h2.25a.75.75 0 01.75.75zM18.894 17.894a.75.75 0 001.06-1.06l-1.59-1.59a.75.75 0 00-1.06 1.06l1.59 1.59zM12 18.75a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0v-2.25a.75.75 0 01.75-.75zM5.06 17.894a.75.75 0 001.06-1.06l-1.59-1.59a.75.75 0 00-1.06 1.06l1.59 1.59zM3 12a.75.75 0 01.75-.75h2.25a.75.75 0 010 1.5H3.75A.75.75 0 013 12zM5.06 6.106a.75.75 0 00-1.06 1.06l1.59 1.59a.75.75 0 001.06-1.06l-1.59-1.59z"/></svg>
                    </button>
                </nav>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">

        <!-- Sobre Section -->
        <section id="sobre" class="mb-24">
            <div class="text-center">
                <h2 class="text-4xl font-extrabold text-gray-900 dark:text-white tracking-tight">Engenheiro de Software & Desenvolvedor Full Stack</h2>
                <p class="mt-4 max-w-2xl mx-auto text-lg text-gray-600 dark:text-gray-300">Transformando ideias em experiências digitais impactantes com foco em performance, acessibilidade e interfaces que encantam.</p>
                <div class="mt-8 flex justify-center space-x-6">
                     <a href="mailto:pauloemidioazevedo@gmail.com" class="text-gray-500 hover:text-cyan-600 dark:text-gray-400 dark:hover:text-cyan-400 transition">
                        <span class="sr-only">Email</span>
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6zm-2 0l-8 5-8-5h16zm0 12H4V8l8 5 8-5v10z"/></svg>
                    </a>
                    <a href="https://linkedin.com/in/pauloemidio/" target="_blank" class="text-gray-500 hover:text-cyan-600 dark:text-gray-400 dark:hover:text-cyan-400 transition">
                        <span class="sr-only">LinkedIn</span>
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>
                    </a>
                    <a href="https://github.com/paulokaome" target="_blank" class="text-gray-500 hover:text-cyan-600 dark:text-gray-400 dark:hover:text-cyan-400 transition">
                        <span class="sr-only">GitHub</span>
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.165 6.839 9.489.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.378.203 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.338 4.695-4.566 4.942.359.308.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.578.688.482A10.003 10.003 0 0022 12c0-5.523-4.477-10-10-10z" clip-rule="evenodd" /></svg>
                    </a>
                </div>
            </div>
        </section>

        <!-- Habilidades Section -->
        <section id="habilidades" class="mb-24 scroll-mt-16">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-800 dark:text-white">Principais Tecnologias e Habilidades</h2>
                <p class="mt-2 text-lg text-gray-600 dark:text-gray-300">Um resumo visual da minha proficiência técnica, com base em anos de experiência prática.</p>
            </div>
            <div class="bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-2xl shadow-lg">
                <div class="flex flex-wrap justify-center gap-2 mb-6">
                    <button class="skill-filter-btn active px-4 py-2 bg-cyan-600 text-white rounded-full text-sm font-semibold shadow dark:bg-cyan-700 dark:hover:bg-cyan-600" data-filter="all">Todas</button>
                    <button class="skill-filter-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm font-semibold hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600" data-filter="Frontend">Frontend</button>
                    <button class="skill-filter-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm font-semibold hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600" data-filter="Mobile">Mobile</button>
                    <button class="skill-filter-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm font-semibold hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600" data-filter="Backend">Backend</button>
                    <button class="skill-filter-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm font-semibold hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600" data-filter="Infra & Cloud">Infra & Cloud</button>
                </div>
                <div class="chart-container">
                    <canvas id="skillsChart"></canvas>
                </div>
            </div>
        </section>

        <!-- Experiencia Section -->
        <section id="experiencia" class="mb-24 scroll-mt-16">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-800 dark:text-white">Experiência Profissional</h2>
                <p class="mt-2 text-lg text-gray-600 dark:text-gray-300">Minha jornada através de desafios e conquistas em diferentes empresas e setores.</p>
            </div>
            <div class="relative">
                <div class="absolute left-1/2 -ml-px w-0.5 h-full bg-gray-300 dark:bg-gray-700" aria-hidden="true"></div>
                <div id="experience-timeline" class="space-y-12">
                    <!-- Experience items will be injected here by JavaScript -->
                </div>
            </div>
        </section>

        <!-- Formacao Section -->
        <section id="formacao" class="scroll-mt-16">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-800 dark:text-white">Formação e Certificados</h2>
                <p class="mt-2 text-lg text-gray-600 dark:text-gray-300">A base de conhecimento que sustenta minha carreira.</p>
            </div>
            <div class="grid md:grid-cols-2 gap-8">
                <div class="bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg">
                    <h3 class="font-bold text-xl text-gray-800 dark:text-white mb-4">Formação Acadêmica</h3>
                    <div class="space-y-4">
                        <div>
                            <p class="font-semibold text-gray-800 dark:text-gray-200">Curso Superior de Tecnologia, Análise de Sistemas de Computação</p>
                            <p class="text-sm text-gray-600 dark:text-gray-400">Descomplica Faculdade Digital | 2023 – 2026</p>
                        </div>
                        <div>
                            <p class="font-semibold text-gray-800 dark:text-gray-200">Desenvolvedor Front-End com ReactJs/React Native</p>
                            <p class="text-sm text-gray-600 dark:text-gray-400">Rocketseat | 2019 – 2021</p>
                        </div>
                    </div>
                </div>
                <div class="bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg">
                    <h3 class="font-bold text-xl text-gray-800 dark:text-white mb-4">Cursos e Certificados</h3>
                    <ul class="space-y-2 list-disc list-inside text-gray-700 dark:text-gray-300">
                        <li>Lógica de Programação com Javascript</li>
                        <li>HTML 5 e CSS3</li>
                        <li>JavaScript ES5 e ES6</li>
                        <li>Introdução ao JavaScript</li>
                    </ul>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-gray-800 dark:bg-gray-900 text-white mt-24">
        <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8 text-center text-sm">
            <p>&copy; 2024 Paulo Azevedo. Todos os direitos reservados.</p>
            <p class="mt-1">Desenvolvido com paixão por tecnologia.</p>
        </div>
    </footer>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
          const isMobile = window.matchMedia('(max-width: 767px)').matches;
            // --- DATA ---
            const skillsData = [
                { name: 'React', years: 5.5, category: 'Frontend' },
                { name: 'React Native', years: 5.5 ,category: 'Mobile' },
                { name: 'Node.js', years: 2.5, category: 'Backend' },
                { name: 'JavaScript / TS', years: 6, category: 'Frontend' },
                { name: 'Cloud / AWS', years: 0.5, category: 'Infra & Cloud' },
                { name: 'Next.js', years: 2.5, category: 'Frontend' },
                { name: 'Angular', years: 1, category: 'Frontend' },
                { name: 'SQL/NoSQL', years: 2, category: 'Backend' },
                { name: 'Vue.js', years: 0.5, category: 'Frontend' },
            ];

            const experienceData = [
                {
                    company: 'Grupo Bandeirantes de Comunicação',
                    role: 'Frontend Engineer',
                    period: 'Maio 2023 – Atual',
                    description: [
                        'Lançamento bem-sucedido do BandPlay, uma plataforma de mídia e entretenimento.',
                        'Desenvolvimento e manutenção de aplicações complexas utilizando React, React Native, Next.js e TypeScript.',
                        'Implementação de interfaces responsivas e otimizadas com Tailwind e Gluestack.',
                        'Gerenciamento de estado eficiente com Redux Toolkit.'
                    ]
                },
                {
                    company: 'Under',
                    role: 'Frontend Engineer',
                    period: 'Março 2022 – Março 2023',
                    description: [
                        'Desenvolvimento de produto inovador com TypeScript e ReactJS para aquisição de baremetals.',
                        'Foco na experiência do usuário (UX), garantindo eficiência e facilidade de uso na plataforma.',
                        'Construção de plataforma sob medida, otimizando o processo de compra para clientes.'
                    ]
                },
                {
                    company: 'HDN Digital',
                    role: 'Frontend Engineer',
                    period: 'Agosto 2021 – Julho 2022',
                    description: [
                        'Colaboração com clientes de renome (Ourofino, Ambev) no desenvolvimento de aplicações robustas.',
                        'Criação de soluções que aproximam clientes e fornecedores, com destaque para projeto Ourofino.',
                        'Facilitação da conexão entre veterinários e donos de pets, proporcionando experiência valiosa.'
                    ]
                },
                {
                    company: 'web.art group',
                    role: 'Frontend Engineer',
                    period: 'Fevereiro 2021 – Julho 2021',
                    description: [
                        'Desenvolvimento de Web Apps/SPAs utilizando Vue.js e ReactJS.',
                        'Criação de Landing Pages com HTML, CSS e JavaScript.',
                        'Participação ativa em metodologias Ágeis/SCRUM.'
                    ]
                },
                {
                    company: 'OKSIS',
                    role: 'Desenvolvedor Front-end',
                    period: 'Abril 2019 – Novembro 2020',
                    description: [
                        'Desenvolvimento de Web Apps/SPAs com Angular.',
                        'Criação de Mobile Apps utilizando React Native.',
                        'Experiência com Firebase e MongoDB para persistência de dados.',
                        'Atuação com Node.js e API Node no backend.'
                    ]
                },
            ];

            // --- SKILLS CHART LOGIC ---
            const ctx = document.getElementById('skillsChart').getContext('2d');
            let skillsChart;

            const getChartColors = () => {
                const isDarkMode = htmlElement.classList.contains('dark');
                return {
                    backgroundColor: isDarkMode ? 'rgba(56, 189, 248, 0.7)' : 'rgba(8, 145, 178, 0.7)',
                    borderColor: isDarkMode ? 'rgba(56, 189, 248, 1)' : 'rgba(8, 145, 178, 1)',
                    gridColor: isDarkMode ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.05)',
                    textColor: isDarkMode ? '#e2e8f0' : '#1c1c1c'
                };
            };

            const updateChartColors = () => {
                if (skillsChart) {
                    const colors = getChartColors();
                    skillsChart.data.datasets[0].backgroundColor = colors.backgroundColor;
                    skillsChart.data.datasets[0].borderColor = colors.borderColor;
                    skillsChart.options.scales.x.grid.color = colors.gridColor;
                    skillsChart.options.scales.x.ticks.color = colors.textColor;
                    skillsChart.options.scales.y.ticks.color = colors.textColor;
                    skillsChart.update();
                }
            };

            const createChart = (data) => {
                if (skillsChart) {
                    skillsChart.destroy();
                }

                const sortedData = [...data].sort((a, b) => a.years - b.years);
                const colors = getChartColors();

                skillsChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: sortedData.map(skill => skill.name),
                        datasets: [{
                            label: 'Anos de Experiência',
                            data: sortedData.map(skill => skill.years),
                            backgroundColor: colors.backgroundColor,
                            borderColor: colors.borderColor,
                            borderWidth: 1,
                            borderRadius: 4,
                        }]
                    },
                    options: {
                        indexAxis: 'y',
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        let label = context.dataset.label || '';
                                        if (label) {
                                            label += ': ';
                                        }
                                        if (context.parsed.x !== null) {
                                            label += context.parsed.x + ' anos';
                                        }
                                        return label;
                                    }
                                }
                            }
                        },
                        scales: {
                            x: {
                                beginAtZero: true,
                                grid: {
                                    color: colors.gridColor
                                },
                                ticks: {
                                    color: colors.textColor,
                                    callback: function(value) {
                                        return value + 'a'
                                    }
                                }
                            },
                            y: {
                                grid: {
                                    display: false
                                },
                                ticks: {
                                    color: colors.textColor
                                }
                            }
                        }
                    }
                });
            };

            const filterButtons = document.querySelectorAll('.skill-filter-btn');
            filterButtons.forEach(button => {
                button.addEventListener('click', () => {
                    filterButtons.forEach(btn => {
                        btn.classList.remove('active', 'bg-cyan-600', 'text-white', 'dark:bg-cyan-700', 'dark:hover:bg-cyan-600');
                        btn.classList.add('bg-gray-200', 'text-gray-700', 'dark:bg-gray-700', 'dark:text-gray-200', 'dark:hover:bg-gray-600');
                    });
                    button.classList.add('active', 'bg-cyan-600', 'text-white', 'dark:bg-cyan-700', 'dark:hover:bg-cyan-600');
                    button.classList.remove('bg-gray-200', 'text-gray-700', 'dark:bg-gray-700', 'dark:text-gray-200', 'dark:hover:bg-gray-600');
                    
                    const filter = button.dataset.filter;
                    const filteredData = filter === 'all' ? skillsData : skillsData.filter(skill => skill.category === filter);
                    createChart(filteredData);
                });
            });

            // --- THEME TOGGLE LOGIC ---
            const themeToggleBtn = document.getElementById('theme-toggle');
            const htmlElement = document.documentElement;
            const sunIcon = themeToggleBtn.querySelector('.sun-icon');
            const moonIcon = themeToggleBtn.querySelector('.moon-icon');

            const applyTheme = (theme) => {
                if (theme === 'dark') {
                    htmlElement.classList.add('dark');
                    document.body.classList.add('dark');
                    sunIcon.classList.add('hidden');
                    moonIcon.classList.remove('hidden');
                } else {
                    htmlElement.classList.remove('dark');
                    document.body.classList.remove('dark');
                    sunIcon.classList.remove('hidden');
                    moonIcon.classList.add('hidden');
                }
                updateChartColors(); // This call is now safe
            };

            const savedTheme = localStorage.getItem('theme');
            if (savedTheme) {
                applyTheme(savedTheme);
            } else {
                applyTheme('dark');
            }
            // Atualiza o tema em tempo real se o usuário mudar a preferência do sistema
            window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
                if (!localStorage.getItem('theme')) {
                    applyTheme(e.matches ? 'dark' : 'light');
                }
            });

            themeToggleBtn.addEventListener('click', () => {
                const currentTheme = htmlElement.classList.contains('dark') ? 'dark' : 'light';
                const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
                localStorage.setItem('theme', newTheme);
                applyTheme(newTheme);
            });

            createChart(skillsData); // Initial chart creation

            // --- EXPERIENCE TIMELINE LOGIC ---
            const timelineContainer = document.getElementById('experience-timeline');
            experienceData.forEach((job, index) => {
                const isLeft = index % 2 === 0;
                const timelineItem = document.createElement('div');
                timelineItem.className = `relative flex items-center ${isLeft ? 'justify-start' : 'justify-end'}`;
                const marginClass = isMobile
                  ? '' // No mobile, NÃO aplica margem negativa
                  : (isLeft ? 'ml-[-30px]' : 'mr-[-30px]'); 

                const contentHTML = `
                    <div class="w-1/2 ${isLeft ? 'pl-8 ' : 'pr-8 text-right'} ${marginClass}">
                        <div class="bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg transform transition-transform hover:scale-105">
                            <p class="text-sm text-center font-semibold text-cyan-600 dark:text-cyan-400">${job.period}</p>
                            <h3 class="text-xl text-center font-bold text-gray-800 dark:text-white mt-1">${job.role}</h3>
                            <p class="text-md text-center font-medium text-gray-600 dark:text-gray-300">${job.company}</p>
                            <ul class="mt-4 space-y-2 text-sm text-gray-700 dark:text-gray-300 list-disc list-inside text-left">
                                ${job.description.map(d => `<li>${d}</li>`).join('')}
                            </ul>
                        </div>
                    </div>
                `;

               
                const dotHTML = isMobile
                  ? `<div class="absolute w-5 h-5 bg-white dark:bg-gray-900 rounded-full border-4 border-cyan-600 dark:border-cyan-400 z-10" style="left:50%; bottom: -50px; transform: translateX(-50%);"></div>`
                  : `<div class="absolute w-5 h-5 bg-white dark:bg-gray-900 rounded-full border-4 border-cyan-600 dark:border-cyan-400 z-10" style="${isLeft ? 'left: 50%; transform: translateX(-50%);' : 'right: 50%; transform: translateX(50%);'}"></div>`;
                
                timelineItem.innerHTML = contentHTML;
                timelineItem.insertAdjacentHTML('beforeend', dotHTML);
                timelineContainer.appendChild(timelineItem);  
            });

            // --- ACTIVE NAV LINK ON SCROLL ---
            const sections = document.querySelectorAll('section[id]');
            const navLinks = document.querySelectorAll('.nav-link');

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        navLinks.forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('href').substring(1) === entry.target.id) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            }, { rootMargin: '-50% 0px -50% 0px' });

            sections.forEach(section => {
                observer.observe(section);
            });
        });
    </script>
</body>
</html>
